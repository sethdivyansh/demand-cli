(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[463],{906:(e,t,a)=>{"use strict";a.d(t,{Transactions:()=>ts});var n=a(5155),s=a(2115),l=a(3464),r=a(1320),i=a(6671),o=a(9434),d=a(6127),c=a(6695),u=a(285),m=a(6268),x=a(5127);let g={sortOrders:[{label:"Asc",value:"asc"},{label:"Desc",value:"desc"}]};function f(e){let{column:t,withBorder:a=!1}=e,n=t.getIsPinned(),s="left"===n&&t.getIsLastColumn("left"),l="right"===n&&t.getIsFirstColumn("right");return{boxShadow:a?s?"-4px 0 4px -4px hsl(var(--border)) inset":l?"4px 0 4px -4px hsl(var(--border)) inset":void 0:void 0,left:"left"===n?"".concat(t.getStart("left"),"px"):void 0,right:"right"===n?"".concat(t.getAfter("right"),"px"):void 0,opacity:n?.97:1,position:n?"sticky":"relative",background:"hsl(var(--background))",width:t.getSize(),zIndex:+!!n}}var h=a(2278),p=a(2767),b=a(9409),v=a(3096);function j(e){let{table:t,pageSizeOptions:a=[10,20,30,40,50],className:s,...l}=e;return(0,n.jsxs)("div",{className:(0,o.cn)("flex w-full flex-col-reverse items-center justify-between gap-4 overflow-auto p-1 sm:flex-row sm:gap-8",s),...l,children:[(0,n.jsx)("div",{className:"text-muted-foreground flex-1 text-sm whitespace-nowrap",children:t.getFilteredSelectedRowModel().rows.length>0?(0,n.jsxs)(n.Fragment,{children:[t.getFilteredSelectedRowModel().rows.length," of"," ",t.getFilteredRowModel().rows.length," row(s) selected."]}):(0,n.jsxs)(n.Fragment,{children:[t.getFilteredRowModel().rows.length," row(s) total."]})}),(0,n.jsxs)("div",{className:"flex flex-col-reverse items-center gap-4 sm:flex-row sm:gap-6 lg:gap-8",children:[(0,n.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,n.jsx)("p",{className:"text-sm font-medium whitespace-nowrap",children:"Rows per page"}),(0,n.jsxs)(b.l6,{value:"".concat(t.getState().pagination.pageSize),onValueChange:e=>{t.setPageSize(Number(e))},children:[(0,n.jsx)(b.bq,{className:"h-8 w-[4.5rem] [&[data-size]]:h-8",children:(0,n.jsx)(b.yv,{placeholder:t.getState().pagination.pageSize})}),(0,n.jsx)(b.gC,{side:"top",children:a.map(e=>(0,n.jsx)(b.eb,{value:"".concat(e),children:e},e))})]})]}),(0,n.jsxs)("div",{className:"flex items-center justify-center text-sm font-medium",children:["Page ",t.getState().pagination.pageIndex+1," of"," ",t.getPageCount()]}),(0,n.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,n.jsx)(u.$,{"aria-label":"Go to first page",variant:"outline",size:"icon",className:"hidden size-8 lg:flex",onClick:()=>t.setPageIndex(0),disabled:!t.getCanPreviousPage(),children:(0,n.jsx)(h.A,{})}),(0,n.jsx)(u.$,{"aria-label":"Go to previous page",variant:t.getCanPreviousPage()?"default":"outline",size:"icon",className:"size-8",onClick:()=>t.previousPage(),disabled:!t.getCanPreviousPage(),children:(0,n.jsx)(v.YJP,{})}),(0,n.jsx)(u.$,{"aria-label":"Go to next page",variant:t.getCanNextPage()?"default":"outline",size:"icon",className:"size-8",onClick:()=>t.nextPage(),disabled:!t.getCanNextPage(),children:(0,n.jsx)(v.vKP,{})}),(0,n.jsx)(u.$,{"aria-label":"Go to last page",variant:"outline",size:"icon",className:"hidden size-8 lg:flex",onClick:()=>t.setPageIndex(t.getPageCount()-1),disabled:!t.getCanNextPage(),children:(0,n.jsx)(p.A,{})})]})]})]})}function y(e){var t;let{table:a,actionBar:s,children:l,className:r,...i}=e;return(0,n.jsxs)("div",{className:(0,o.cn)("flex w-full flex-col gap-2.5 overflow-auto",r),...i,children:[l,(0,n.jsx)("div",{className:"overflow-hidden rounded-md border",children:(0,n.jsxs)(x.Table,{children:[(0,n.jsx)(x.TableHeader,{children:a.getHeaderGroups().map(e=>(0,n.jsx)(x.TableRow,{children:e.headers.map(e=>(0,n.jsx)(x.TableHead,{colSpan:e.colSpan,style:{...f({column:e.column})},className:"text-muted-foreground",children:e.isPlaceholder?null:(0,m.Kv)(e.column.columnDef.header,e.getContext())},e.id))},e.id))}),(0,n.jsx)(x.TableBody,{children:(null==(t=a.getRowModel().rows)?void 0:t.length)?a.getRowModel().rows.map(e=>(0,n.jsx)(x.TableRow,{"data-state":e.getIsSelected()&&"selected",className:(0,o.cn)("hover:ring-primary hover:ring-1"),children:e.getVisibleCells().map(e=>(0,n.jsx)(x.TableCell,{style:{...f({column:e.column})},children:(0,m.Kv)(e.column.columnDef.cell,e.getContext())},e.id))},e.id)):(0,n.jsx)(x.TableRow,{children:(0,n.jsx)(x.TableCell,{colSpan:a.getAllColumns().length,className:"h-24 text-center",children:"No results."})})})]})}),(0,n.jsxs)("div",{className:"flex flex-col gap-2.5",children:[(0,n.jsx)(j,{table:a}),s&&a.getFilteredSelectedRowModel().rows.length>0&&s]})]})}function w(e){let{className:t,type:a,...s}=e;return(0,n.jsx)("input",{type:a,"data-slot":"input",className:(0,o.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",t),...s})}var N=a(4861),C=a(9074),S=a(5933),k=a(2355),z=a(3052),F=a(6474),A=a(713),_=a(8406);function M(){let e=(0,S._)(["rtl:**:[.rdp-button_next>svg]:rotate-180"],["rtl:**:[.rdp-button\\_next>svg]:rotate-180"]);return M=function(){return e},e}function R(){let e=(0,S._)(["rtl:**:[.rdp-button_previous>svg]:rotate-180"],["rtl:**:[.rdp-button\\_previous>svg]:rotate-180"]);return R=function(){return e},e}function D(e){let{className:t,classNames:a,showOutsideDays:s=!0,captionLayout:l="label",buttonVariant:r="ghost",formatters:i,components:d,...c}=e,m=(0,A.a)();return(0,n.jsx)(_.h,{showOutsideDays:s,className:(0,o.cn)("bg-background group/calendar p-3 [--cell-size:--spacing(8)] [[data-slot=card-content]_&]:bg-transparent [[data-slot=popover-content]_&]:bg-transparent",String.raw(M()),String.raw(R()),t),captionLayout:l,formatters:{formatMonthDropdown:e=>e.toLocaleString("default",{month:"short"}),...i},classNames:{root:(0,o.cn)("w-fit",m.root),months:(0,o.cn)("flex gap-4 flex-col md:flex-row relative",m.months),month:(0,o.cn)("flex flex-col w-full gap-4",m.month),nav:(0,o.cn)("flex items-center gap-1 w-full absolute top-0 inset-x-0 justify-between",m.nav),button_previous:(0,o.cn)((0,u.r)({variant:r}),"size-(--cell-size) aria-disabled:opacity-50 p-0 select-none",m.button_previous),button_next:(0,o.cn)((0,u.r)({variant:r}),"size-(--cell-size) aria-disabled:opacity-50 p-0 select-none",m.button_next),month_caption:(0,o.cn)("flex items-center justify-center h-(--cell-size) w-full px-(--cell-size)",m.month_caption),dropdowns:(0,o.cn)("w-full flex items-center text-sm font-medium justify-center h-(--cell-size) gap-1.5",m.dropdowns),dropdown_root:(0,o.cn)("relative has-focus:border-ring border border-input shadow-xs has-focus:ring-ring/50 has-focus:ring-[3px] rounded-md",m.dropdown_root),dropdown:(0,o.cn)("absolute inset-0 opacity-0",m.dropdown),caption_label:(0,o.cn)("select-none font-medium","label"===l?"text-sm":"rounded-md pl-2 pr-1 flex items-center gap-1 text-sm h-8 [&>svg]:text-muted-foreground [&>svg]:size-3.5",m.caption_label),table:"w-full border-collapse",weekdays:(0,o.cn)("flex",m.weekdays),weekday:(0,o.cn)("text-muted-foreground rounded-md flex-1 font-normal text-[0.8rem] select-none",m.weekday),week:(0,o.cn)("flex w-full mt-2",m.week),week_number_header:(0,o.cn)("select-none w-(--cell-size)",m.week_number_header),week_number:(0,o.cn)("text-[0.8rem] select-none text-muted-foreground",m.week_number),day:(0,o.cn)("relative w-full h-full p-0 text-center [&:first-child[data-selected=true]_button]:rounded-l-md [&:last-child[data-selected=true]_button]:rounded-r-md group/day aspect-square select-none",m.day),range_start:(0,o.cn)("rounded-l-md bg-accent",m.range_start),range_middle:(0,o.cn)("rounded-none",m.range_middle),range_end:(0,o.cn)("rounded-r-md bg-accent",m.range_end),today:(0,o.cn)("bg-accent text-accent-foreground rounded-md data-[selected=true]:rounded-none",m.today),outside:(0,o.cn)("text-muted-foreground aria-selected:text-muted-foreground",m.outside),disabled:(0,o.cn)("text-muted-foreground opacity-50",m.disabled),hidden:(0,o.cn)("invisible",m.hidden),...a},components:{Root:e=>{let{className:t,rootRef:a,...s}=e;return(0,n.jsx)("div",{"data-slot":"calendar",ref:a,className:(0,o.cn)(t),...s})},Chevron:e=>{let{className:t,orientation:a,...s}=e;return"left"===a?(0,n.jsx)(k.A,{className:(0,o.cn)("size-4",t),...s}):"right"===a?(0,n.jsx)(z.A,{className:(0,o.cn)("size-4",t),...s}):(0,n.jsx)(F.A,{className:(0,o.cn)("size-4",t),...s})},DayButton:T,WeekNumber:e=>{let{children:t,...a}=e;return(0,n.jsx)("td",{...a,children:(0,n.jsx)("div",{className:"flex size-(--cell-size) items-center justify-center text-center",children:t})})},...d},...c})}function T(e){let{className:t,day:a,modifiers:l,...r}=e,i=(0,A.a)(),d=s.useRef(null);return s.useEffect(()=>{var e;l.focused&&(null==(e=d.current)||e.focus())},[l.focused]),(0,n.jsx)(u.$,{ref:d,variant:"ghost",size:"icon","data-day":a.date.toLocaleDateString(),"data-selected-single":l.selected&&!l.range_start&&!l.range_end&&!l.range_middle,"data-range-start":l.range_start,"data-range-end":l.range_end,"data-range-middle":l.range_middle,className:(0,o.cn)("data-[selected-single=true]:bg-primary data-[selected-single=true]:text-primary-foreground data-[range-middle=true]:bg-accent data-[range-middle=true]:text-accent-foreground data-[range-start=true]:bg-primary data-[range-start=true]:text-primary-foreground data-[range-end=true]:bg-primary data-[range-end=true]:text-primary-foreground group-data-[focused=true]/day:border-ring group-data-[focused=true]/day:ring-ring/50 dark:hover:text-accent-foreground flex aspect-square size-auto w-full min-w-(--cell-size) flex-col gap-1 leading-none font-normal group-data-[focused=true]/day:relative group-data-[focused=true]/day:z-10 group-data-[focused=true]/day:ring-[3px] data-[range-end=true]:rounded-md data-[range-end=true]:rounded-r-md data-[range-middle=true]:rounded-none data-[range-start=true]:rounded-md data-[range-start=true]:rounded-l-md [&>span]:text-xs [&>span]:opacity-70",i.day,t),...r})}var I=a(547);function V(e){let{...t}=e;return(0,n.jsx)(I.bL,{"data-slot":"popover",...t})}function P(e){let{...t}=e;return(0,n.jsx)(I.l9,{"data-slot":"popover-trigger",...t})}function E(e){let{className:t,align:a="center",sideOffset:s=4,...l}=e;return(0,n.jsx)(I.ZL,{children:(0,n.jsx)(I.UC,{"data-slot":"popover-content",align:a,sideOffset:s,className:(0,o.cn)("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-72 origin-(--radix-popover-content-transform-origin) rounded-md border p-4 shadow-md outline-hidden",t),...l})})}var O=a(2346);function B(e){return e&&"object"==typeof e&&!Array.isArray(e)}function L(e){if(!e)return;let t=new Date("string"==typeof e?Number(e):e);return Number.isNaN(t.getTime())?void 0:t}function K(e){return null==e?[]:Array.isArray(e)?e.map(e=>{if("number"==typeof e||"string"==typeof e)return e}):"string"==typeof e||"number"==typeof e?[e]:[]}function Z(e){let{column:t,title:a,multiple:l}=e,r=t.getFilterValue(),i=s.useMemo(()=>{if(!r)return l?{from:void 0,to:void 0}:[];if(l){let e=K(r);return{from:L(e[0]),to:L(e[1])}}let e=L(K(r)[0]);return e?[e]:[]},[r,l]),d=s.useCallback(e=>{if(!e)return void t.setFilterValue(void 0);if(!l||"getTime"in e)!l&&"getTime"in e&&t.setFilterValue(e.getTime());else{var a,n;let s=null==(a=e.from)?void 0:a.getTime(),l=null==(n=e.to)?void 0:n.getTime();t.setFilterValue(s||l?[s,l]:void 0)}},[t,l]),c=s.useCallback(e=>{e.stopPropagation(),t.setFilterValue(void 0)},[t]),m=s.useMemo(()=>l?!!B(i)&&(i.from||i.to):!!Array.isArray(i)&&i.length>0,[l,i]),x=s.useCallback(e=>{var t;return e.from||e.to?e.from&&e.to?"".concat((0,o.Yq)(e.from)," - ").concat((0,o.Yq)(e.to)):(0,o.Yq)(null!=(t=e.from)?t:e.to):""},[]),g=s.useMemo(()=>{if(l){if(!B(i))return null;let e=i.from||i.to,t=e?x(i):"Select date range";return(0,n.jsxs)("span",{className:"flex items-center gap-2",children:[(0,n.jsx)("span",{children:a}),e&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(O.Separator,{orientation:"vertical",className:"mx-0.5 data-[orientation=vertical]:h-4"}),(0,n.jsx)("span",{children:t})]})]})}if(B(i))return null;let e=i.length>0,t=e?(0,o.Yq)(i[0]):"Select date";return(0,n.jsxs)("span",{className:"flex items-center gap-2",children:[(0,n.jsx)("span",{children:a}),e&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(O.Separator,{orientation:"vertical",className:"mx-0.5 data-[orientation=vertical]:h-4"}),(0,n.jsx)("span",{children:t})]})]})},[i,l,x,a]);return(0,n.jsxs)(V,{children:[(0,n.jsx)(P,{asChild:!0,children:(0,n.jsxs)(u.$,{variant:"outline",size:"sm",className:"border-dashed",children:[m?(0,n.jsx)("div",{role:"button","aria-label":"Clear ".concat(a," filter"),tabIndex:0,onClick:c,className:"focus-visible:ring-ring rounded-sm opacity-70 transition-opacity hover:opacity-100 focus-visible:ring-1 focus-visible:outline-none",children:(0,n.jsx)(N.A,{})}):(0,n.jsx)(C.A,{}),g]})}),(0,n.jsx)(E,{className:"w-auto p-0",align:"start",children:l?(0,n.jsx)(D,{initialFocus:!0,mode:"range",selected:B(i)?i:{from:void 0,to:void 0},onSelect:d}):(0,n.jsx)(D,{initialFocus:!0,mode:"single",selected:B(i)?void 0:i[0],onSelect:d})})]})}var $=a(9103),H=a(6126);function W(e){let{column:t,title:a,options:l,multiple:r}=e,[i,d]=s.useState(!1),c=null==t?void 0:t.getFilterValue(),m=s.useMemo(()=>new Set(Array.isArray(c)?c:[]),[c]),x=s.useCallback((e,a)=>{if(t)if(r){let n=new Set(m);a?n.delete(e.value):n.add(e.value);let s=Array.from(n);t.setFilterValue(s.length?s:void 0)}else t.setFilterValue(a?void 0:[e.value]),d(!1)},[t,r,m]),g=s.useCallback(e=>{null==e||e.stopPropagation(),null==t||t.setFilterValue(void 0)},[t]);return(0,n.jsxs)(V,{open:i,onOpenChange:d,children:[(0,n.jsx)(P,{asChild:!0,children:(0,n.jsxs)(u.$,{variant:"outline",size:"sm",className:"border-dashed",children:[(null==m?void 0:m.size)>0?(0,n.jsx)("div",{role:"button","aria-label":"Clear ".concat(a," filter"),tabIndex:0,onClick:g,className:"focus-visible:ring-ring rounded-sm opacity-70 transition-opacity hover:opacity-100 focus-visible:ring-1 focus-visible:outline-none",children:(0,n.jsx)(N.A,{})}):(0,n.jsx)($.A,{}),a,(null==m?void 0:m.size)>0&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(O.Separator,{orientation:"vertical",className:"mx-0.5 data-[orientation=vertical]:h-4"}),(0,n.jsx)(H.E,{variant:"secondary",className:"rounded-sm px-1 font-normal lg:hidden",children:m.size}),(0,n.jsx)("div",{className:"hidden items-center gap-1 lg:flex",children:m.size>2?(0,n.jsxs)(H.E,{variant:"secondary",className:"rounded-sm px-1 font-normal",children:[m.size," selected"]}):l.filter(e=>m.has(e.value)).map(e=>(0,n.jsx)(H.E,{variant:"secondary",className:"rounded-sm px-1 font-normal",children:e.label},e.value))})]})]})}),(0,n.jsxs)(E,{className:"w-[12.5rem] p-2",align:"start",children:[(0,n.jsx)("div",{className:"max-h-[18.75rem] overflow-x-hidden overflow-y-auto",children:l.map(e=>{let t=m.has(e.value);return(0,n.jsxs)("div",{onClick:()=>x(e,t),className:"flex cursor-pointer items-center rounded-sm px-2 py-1.5 text-sm hover:bg-accent hover:text-accent-foreground",children:[(0,n.jsx)("div",{className:(0,o.cn)("border-primary flex size-4 items-center justify-center rounded-sm border",t?"bg-primary":"opacity-50 [&_svg]:invisible"),children:(0,n.jsx)(v.Srz,{})}),e.icon&&(0,n.jsx)(e.icon,{className:"ml-2 size-4"}),(0,n.jsx)("span",{className:"ml-2 truncate",children:e.label}),e.count&&(0,n.jsx)("span",{className:"ml-auto font-mono text-xs",children:e.count})]},e.value)})}),m.size>0&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(O.Separator,{className:"my-1"}),(0,n.jsx)("div",{onClick:()=>g(),className:"cursor-pointer rounded-sm px-2 py-1.5 text-center text-sm hover:bg-accent hover:text-accent-foreground",children:"Clear filters"})]})]})]})}var q=a(5057),J=a(4073);function U(e){let{className:t,defaultValue:a,value:l,min:r=0,max:i=100,...d}=e,c=s.useMemo(()=>Array.isArray(l)?l:Array.isArray(a)?a:[r,i],[l,a,r,i]);return(0,n.jsxs)(J.bL,{"data-slot":"slider",defaultValue:a,value:l,min:r,max:i,className:(0,o.cn)("relative flex w-full touch-none items-center select-none data-[disabled]:opacity-50 data-[orientation=vertical]:h-full data-[orientation=vertical]:min-h-44 data-[orientation=vertical]:w-auto data-[orientation=vertical]:flex-col",t),...d,children:[(0,n.jsx)(J.CC,{"data-slot":"slider-track",className:(0,o.cn)("bg-muted relative grow overflow-hidden rounded-full data-[orientation=horizontal]:h-1.5 data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-1.5"),children:(0,n.jsx)(J.Q6,{"data-slot":"slider-range",className:(0,o.cn)("bg-primary absolute data-[orientation=horizontal]:h-full data-[orientation=vertical]:w-full")})}),Array.from({length:c.length},(e,t)=>(0,n.jsx)(J.zi,{"data-slot":"slider-thumb",className:"border-primary bg-background ring-ring/50 block size-4 shrink-0 rounded-full border shadow-sm transition-[color,box-shadow] hover:ring-4 focus-visible:ring-4 focus-visible:outline-hidden disabled:pointer-events-none disabled:opacity-50"},t))]})}function G(e){return Array.isArray(e)&&2===e.length&&"number"==typeof e[0]&&"number"==typeof e[1]}function Y(e){var t,a,l,r;let{column:i,title:d}=e,c=s.useId(),m=G(i.getFilterValue())?i.getFilterValue():void 0,x=null==(t=i.columnDef.meta)?void 0:t.range,g=null==(a=i.columnDef.meta)?void 0:a.unit,{min:f,max:h,step:p}=s.useMemo(()=>{let e=0,t=100;if(x&&G(x))[e,t]=x;else{let a=i.getFacetedMinMaxValues();if(a&&Array.isArray(a)&&2===a.length){let[n,s]=a;"number"==typeof n&&"number"==typeof s&&(e=n,t=s)}}let a=t-e;return{min:e,max:t,step:a<=20?1:a<=100?Math.ceil(a/20):Math.ceil(a/50)}},[i,x]),b=s.useMemo(()=>null!=m?m:[f,h],[m,f,h]),v=s.useCallback(e=>e.toLocaleString(void 0,{maximumFractionDigits:0}),[]),j=s.useCallback(e=>{let t=Number(e.target.value);!Number.isNaN(t)&&t>=f&&t<=b[1]&&i.setFilterValue([t,b[1]])},[i,f,b]),y=s.useCallback(e=>{let t=Number(e.target.value);!Number.isNaN(t)&&t<=h&&t>=b[0]&&i.setFilterValue([b[0],t])},[i,h,b]),C=s.useCallback(e=>{Array.isArray(e)&&2===e.length&&i.setFilterValue(e)},[i]),S=s.useCallback(e=>{e.target instanceof HTMLDivElement&&e.stopPropagation(),i.setFilterValue(void 0)},[i]);return(0,n.jsxs)(V,{children:[(0,n.jsx)(P,{asChild:!0,children:(0,n.jsxs)(u.$,{variant:"outline",size:"sm",className:"border-dashed",children:[m?(0,n.jsx)("div",{role:"button","aria-label":"Clear ".concat(d," filter"),tabIndex:0,className:"focus-visible:ring-ring rounded-sm opacity-70 transition-opacity hover:opacity-100 focus-visible:ring-1 focus-visible:outline-none",onClick:S,children:(0,n.jsx)(N.A,{})}):(0,n.jsx)($.A,{}),(0,n.jsx)("span",{children:d}),m?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(O.Separator,{orientation:"vertical",className:"mx-0.5 data-[orientation=vertical]:h-4"}),v(m[0])," -"," ",v(m[1]),g?" ".concat(g):""]}):null]})}),(0,n.jsxs)(E,{align:"start",className:"flex w-auto flex-col gap-4",children:[(0,n.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,n.jsx)("p",{className:"leading-none font-medium peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:d}),(0,n.jsxs)("div",{className:"flex items-center gap-4",children:[(0,n.jsx)(q.J,{htmlFor:"".concat(c,"-from"),className:"sr-only",children:"From"}),(0,n.jsxs)("div",{className:"relative",children:[(0,n.jsx)(w,{id:"".concat(c,"-from"),type:"number","aria-valuemin":f,"aria-valuemax":h,inputMode:"numeric",pattern:"[0-9]*",placeholder:f.toString(),min:f,max:h,value:null==(l=b[0])?void 0:l.toString(),onChange:j,className:(0,o.cn)("h-8 w-24",g&&"pr-8")}),g&&(0,n.jsx)("span",{className:"bg-accent text-muted-foreground absolute top-0 right-0 bottom-0 flex items-center rounded-r-md px-2 text-sm",children:g})]}),(0,n.jsx)(q.J,{htmlFor:"".concat(c,"-to"),className:"sr-only",children:"to"}),(0,n.jsxs)("div",{className:"relative",children:[(0,n.jsx)(w,{id:"".concat(c,"-to"),type:"number","aria-valuemin":f,"aria-valuemax":h,inputMode:"numeric",pattern:"[0-9]*",placeholder:h.toString(),min:f,max:h,value:null==(r=b[1])?void 0:r.toString(),onChange:y,className:(0,o.cn)("h-8 w-24",g&&"pr-8")}),g&&(0,n.jsx)("span",{className:"bg-accent text-muted-foreground absolute top-0 right-0 bottom-0 flex items-center rounded-r-md px-2 text-sm",children:g})]})]}),(0,n.jsxs)(q.J,{htmlFor:"".concat(c,"-slider"),className:"sr-only",children:[d," slider"]}),(0,n.jsx)(U,{id:"".concat(c,"-slider"),min:f,max:h,step:p,value:b,onValueChange:C})]}),(0,n.jsx)(u.$,{"aria-label":"Clear ".concat(d," filter"),variant:"outline",size:"sm",onClick:S,children:"Clear"})]})]})}var X=a(7330);function Q(e){let{table:t}=e,a=s.useMemo(()=>t.getAllColumns().filter(e=>void 0!==e.accessorFn&&e.getCanHide()),[t]);return(0,n.jsxs)(V,{children:[(0,n.jsx)(P,{asChild:!0,children:(0,n.jsxs)(u.$,{"aria-label":"Toggle columns",role:"combobox",variant:"outline",size:"sm",className:"ml-auto hidden h-8 lg:flex",children:[(0,n.jsx)(X.A,{}),"View",(0,n.jsx)(v.TBE,{className:"ml-auto opacity-50"})]})}),(0,n.jsx)(E,{align:"end",className:"w-44 p-2",children:(0,n.jsx)("div",{className:"space-y-1",children:a.map(e=>{var t,a;return(0,n.jsxs)("div",{className:"flex items-center justify-between p-2 hover:bg-accent hover:text-accent-foreground rounded-sm cursor-pointer",onClick:()=>e.toggleVisibility(!e.getIsVisible()),children:[(0,n.jsx)("span",{className:"truncate text-sm",children:null!=(a=null==(t=e.columnDef.meta)?void 0:t.label)?a:e.id}),(0,n.jsx)(v.Srz,{className:(0,o.cn)("ml-2 size-4 shrink-0",e.getIsVisible()?"opacity-100":"opacity-0")})]},e.id)})})})]})}function ee(e){let{table:t,children:a,className:l,...r}=e,i=t.getState().columnFilters.length>0,d=s.useMemo(()=>t.getAllColumns().filter(e=>e.getCanFilter()),[t]),c=s.useCallback(()=>{t.resetColumnFilters()},[t]);return(0,n.jsxs)("div",{role:"toolbar","aria-orientation":"horizontal",className:(0,o.cn)("flex w-full items-start justify-between gap-2 p-1",l),...r,children:[(0,n.jsxs)("div",{className:"flex flex-1 flex-wrap items-center gap-2",children:[d.map(e=>(0,n.jsx)(et,{column:e},e.id)),i&&(0,n.jsxs)(u.$,{"aria-label":"Reset filters",variant:"outline",size:"sm",className:"border-dashed",onClick:c,children:[(0,n.jsx)(v.MKb,{}),"Reset"]})]}),(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[a,(0,n.jsx)(Q,{table:t})]})]})}function et(e){let{column:t}=e;{let e=t.columnDef.meta;return s.useCallback(()=>{var a,s,l,r,i,d,c,u;if(!(null==e?void 0:e.variant))return null;switch(e.variant){case"text":return(0,n.jsx)(w,{placeholder:null!=(a=e.placeholder)?a:e.label,value:null!=(s=t.getFilterValue())?s:"",onChange:e=>t.setFilterValue(e.target.value),className:"h-8 w-40 lg:w-56"});case"number":return(0,n.jsxs)("div",{className:"relative",children:[(0,n.jsx)(w,{type:"number",inputMode:"numeric",placeholder:null!=(l=e.placeholder)?l:e.label,value:null!=(r=t.getFilterValue())?r:"",onChange:e=>t.setFilterValue(e.target.value),className:(0,o.cn)("h-8 w-[120px]",e.unit&&"pr-8")}),e.unit&&(0,n.jsx)("span",{className:"bg-accent text-muted-foreground absolute top-0 right-0 bottom-0 flex items-center rounded-r-md px-2 text-sm",children:e.unit})]});case"range":return(0,n.jsx)(Y,{column:t,title:null!=(i=e.label)?i:t.id});case"date":case"dateRange":return(0,n.jsx)(Z,{column:t,title:null!=(d=e.label)?d:t.id,multiple:"dateRange"===e.variant});case"select":case"multiSelect":return(0,n.jsx)(W,{column:t,title:null!=(c=e.label)?c:t.id,options:null!=(u=e.options)?u:[],multiple:"multiSelect"===e.variant});default:return null}},[t,e])()}}var ea=a(8922),en=a(2525),es=a(5143),el=a(1206),er=a(402),ei=a(8266),eo=a(9708);function ed(e,t){let{checkForDefaultPrevented:a=!0}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return function(n){if(null==e||e(n),!1===a||!n.defaultPrevented)return null==t?void 0:t(n)}}function ec(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}function eu(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return s.useCallback(function(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return e=>{let a=!1,n=t.map(t=>{let n=ec(t,e);return a||"function"!=typeof n||(a=!0),n});if(a)return()=>{for(let e=0;e<n.length;e++){let a=n[e];"function"==typeof a?a():ec(t[e],null)}}}}(...t),t)}var em=a(7650);let ex={vertical:{modifiers:[el.FN,el.gj],strategy:er._G,collisionDetection:es.fp},horizontal:{modifiers:[el.dU,el.gj],strategy:er.m$,collisionDetection:es.fp},mixed:{modifiers:[el.gj],strategy:void 0,collisionDetection:es.y$}},eg="Sortable",ef="SortableContent",eh="SortableItem",ep="SortableItemHandle",eb="SortableOverlay",ev={[eg]:"`".concat(eg,"` components must be within `").concat(eg,"`"),[ef]:"`".concat(ef,"` must be within `").concat(eg,"`"),[eh]:"`".concat(eh,"` must be within `").concat(ef,"`"),[ep]:"`".concat(ep,"` must be within `").concat(eh,"`"),[eb]:"`".concat(eb,"` must be within `").concat(eg,"`")},ej=s.createContext(null);function ey(e){let t=s.useContext(ej);if(!t)throw Error(ev[e]);return t}function ew(e){let{value:t,onValueChange:a,collisionDetection:l,modifiers:r,strategy:i,onMove:o,orientation:d="vertical",flatCursor:c=!1,getItemValue:u,accessibility:m,...x}=e,g=s.useId(),[f,h]=s.useState(null),p=(0,es.FR)((0,es.MS)(es.cA),(0,es.MS)(es.IG),(0,es.MS)(es.uN,{coordinateGetter:er.JR})),b=s.useMemo(()=>ex[d],[d]),v=s.useCallback(e=>{if("object"==typeof e&&!u)throw Error("getItemValue is required when using array of objects.");return u?u(e):e},[u]),j=s.useMemo(()=>t.map(e=>v(e)),[t,v]),y=s.useCallback(e=>{let{active:n,over:s}=e;if(s&&n.id!==(null==s?void 0:s.id)){let l=t.findIndex(e=>v(e)===n.id),r=t.findIndex(e=>v(e)===s.id);o?o({...e,activeIndex:l,overIndex:r}):null==a||a((0,er.be)(t,l,r))}h(null)},[t,a,o,v]),w=s.useMemo(()=>({onDragStart(e){var a;let{active:n}=e,s=n.id.toString();return'Grabbed sortable item "'.concat(s,'". Current position is ').concat((null==(a=n.data.current)?void 0:a.sortable.index)+1," of ").concat(t.length,". Use arrow keys to move, space to drop.")},onDragOver(e){let{active:a,over:n}=e;if(n){var s,l,r,i;let e=null!=(r=null==(s=n.data.current)?void 0:s.sortable.index)?r:0,o=null!=(i=null==(l=a.data.current)?void 0:l.sortable.index)?i:0,d=a.id.toString();return'Sortable item "'.concat(d,'" moved ').concat(e>o?"down":"up"," to position ").concat(e+1," of ").concat(t.length,".")}return"Sortable item is no longer over a droppable area. Press escape to cancel."},onDragEnd(e){let{active:a,over:n}=e,s=a.id.toString();if(n){var l,r;let e=null!=(r=null==(l=n.data.current)?void 0:l.sortable.index)?r:0;return'Sortable item "'.concat(s,'" dropped at position ').concat(e+1," of ").concat(t.length,".")}return'Sortable item "'.concat(s,'" dropped. No changes were made.')},onDragCancel(e){var a,n;let{active:s}=e,l=null!=(n=null==(a=s.data.current)?void 0:a.sortable.index)?n:0,r=s.id.toString();return'Sorting cancelled. Sortable item "'.concat(r,'" returned to position ').concat(l+1," of ").concat(t.length,".")},onDragMove(e){let{active:a,over:n}=e;if(n){var s,l,r,i;let e=null!=(r=null==(s=n.data.current)?void 0:s.sortable.index)?r:0,o=null!=(i=null==(l=a.data.current)?void 0:l.sortable.index)?i:0,d=a.id.toString();return'Sortable item "'.concat(d,'" is moving ').concat(e>o?"down":"up"," to position ").concat(e+1," of ").concat(t.length,".")}return"Sortable item is no longer over a droppable area. Press escape to cancel."}}),[t]),N=s.useMemo(()=>({draggable:"\n        To pick up a sortable item, press space or enter.\n        While dragging, use the ".concat("vertical"===d?"up and down":"horizontal"===d?"left and right":"arrow"," keys to move the item.\n        Press space or enter again to drop the item in its new position, or press escape to cancel.\n      ")}),[d]),C=s.useMemo(()=>({id:g,items:j,modifiers:null!=r?r:b.modifiers,strategy:null!=i?i:b.strategy,activeId:f,setActiveId:h,getItemValue:v,flatCursor:c}),[g,j,r,i,b.modifiers,b.strategy,f,v,c]);return(0,n.jsx)(ej.Provider,{value:C,children:(0,n.jsx)(es.Mp,{collisionDetection:null!=l?l:b.collisionDetection,modifiers:null!=r?r:b.modifiers,sensors:p,...x,id:g,onDragStart:ed(x.onDragStart,e=>{let{active:t}=e;return h(t.id)}),onDragEnd:ed(x.onDragEnd,y),onDragCancel:ed(x.onDragCancel,()=>h(null)),accessibility:{announcements:w,screenReaderInstructions:N,...m}})})}ej.displayName=eg;let eN=s.createContext(!1);eN.displayName=ef;let eC=s.forwardRef((e,t)=>{let{strategy:a,asChild:s,withoutSlot:l,children:r,...i}=e,o=ey(ef),d=s?eo.DX:"div";return(0,n.jsx)(eN.Provider,{value:!0,children:(0,n.jsx)(er.gB,{items:o.items,strategy:null!=a?a:o.strategy,children:l?r:(0,n.jsx)(d,{...i,ref:t,children:r})})})});eC.displayName=ef;let eS=s.createContext(null);eS.displayName=eh;let ek=s.forwardRef((e,t)=>{let{value:a,style:l,asHandle:r,asChild:i,disabled:d,className:c,...u}=e,m=s.useContext(eN),x=s.useContext(eF);if(!m&&!x)throw Error(ev[eh]);if(""===a)throw Error("`".concat(eh,"` value cannot be an empty string"));let g=ey(eh),f=s.useId(),{attributes:h,listeners:p,setNodeRef:b,setActivatorNodeRef:v,transform:j,transition:y,isDragging:w}=(0,er.gl)({id:a,disabled:d}),N=eu(t,e=>{!d&&(b(e),r&&v(e))}),C=s.useMemo(()=>({transform:ei.Ks.Translate.toString(j),transition:y,...l}),[j,y,l]),S=s.useMemo(()=>({id:f,attributes:h,listeners:p,setActivatorNodeRef:v,isDragging:w,disabled:d}),[f,h,p,v,w,d]),k=i?eo.DX:"div";return(0,n.jsx)(eS.Provider,{value:S,children:(0,n.jsx)(k,{id:f,"data-dragging":w?"":void 0,...u,...r?h:{},...r?p:{},tabIndex:d?void 0:0,ref:N,style:C,className:(0,o.cn)("focus-visible:ring-ring focus-visible:ring-1 focus-visible:ring-offset-1 focus-visible:outline-hidden",{"touch-none select-none":r,"cursor-default":g.flatCursor,"data-dragging:cursor-grabbing":!g.flatCursor,"cursor-grab":!w&&r&&!g.flatCursor,"opacity-50":w,"pointer-events-none opacity-50":d},c)})})});ek.displayName=eh;let ez=s.forwardRef((e,t)=>{let{asChild:a,disabled:l,className:r,...i}=e,d=s.useContext(eS);if(!d)throw Error(ev[ep]);let c=ey(ep),u=null!=l?l:d.disabled,m=eu(t,e=>{u&&d.setActivatorNodeRef(e)}),x=a?eo.DX:"button";return(0,n.jsx)(x,{type:"button","aria-controls":d.id,"data-dragging":d.isDragging?"":void 0,...i,...d.attributes,...d.listeners,ref:m,className:(0,o.cn)("select-none disabled:pointer-events-none disabled:opacity-50",c.flatCursor?"cursor-default":"cursor-grab data-dragging:cursor-grabbing",r),disabled:u})});ez.displayName=ep;let eF=s.createContext(!1);eF.displayName=eb;let eA={sideEffects:(0,es.WB)({styles:{active:{opacity:"0.4"}}})};function e_(e){var t;let{container:a,children:l,...r}=e,i=ey(eb),[d,c]=s.useState(!1);s.useLayoutEffect(()=>c(!0),[]);let u=null!=a?a:d?null==(t=globalThis.document)?void 0:t.body:null;return u?em.createPortal((0,n.jsx)(es.Hd,{dropAnimation:eA,modifiers:i.modifiers,className:(0,o.cn)(!i.flatCursor&&"cursor-grabbing"),...r,children:(0,n.jsx)(eF.Provider,{value:!0,children:i.activeId?"function"==typeof l?l({value:i.activeId}):l:null})}),u):null}let eM=["backspace","delete"];function eR(e){let{table:t,...a}=e,l=s.useId(),r=s.useId(),i=s.useId(),[d,c]=s.useState(!1),m=s.useRef(null),x=t.getState().sorting,g=t.setSorting,{columnLabels:f,columns:h}=s.useMemo(()=>{let e=new Map,a=new Set(x.map(e=>e.id)),n=[];for(let r of t.getAllColumns()){var s,l;if(!r.getCanSort())continue;let t=null!=(l=null==(s=r.columnDef.meta)?void 0:s.label)?l:r.id;e.set(r.id,t),a.has(r.id)||n.push({id:r.id,label:t})}return{columnLabels:e,columns:n}},[x,t]),p=s.useCallback(()=>{let e=h[0];e&&g(t=>[...t,{id:e.id,desc:!1}])},[h,g]),b=s.useCallback((e,t)=>{g(a=>a?a.map(a=>a.id===e?{...a,...t}:a):a)},[g]),v=s.useCallback(e=>{g(t=>t.filter(t=>t.id!==e))},[g]),j=s.useCallback(()=>g(t.initialState.sorting),[g,t.initialState.sorting]);s.useEffect(()=>{function e(e){!(e.target instanceof HTMLInputElement||e.target instanceof HTMLTextAreaElement)&&("s"!==e.key.toLowerCase()||e.ctrlKey||e.metaKey||e.shiftKey||(e.preventDefault(),c(!0)),"s"===e.key.toLowerCase()&&e.shiftKey&&x.length>0&&(e.preventDefault(),j()))}return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[x.length,j]);let y=s.useCallback(e=>{eM.includes(e.key.toLowerCase())&&x.length>0&&(e.preventDefault(),j())},[x.length,j]);return(0,n.jsxs)(ew,{value:x,onValueChange:g,getItemValue:e=>e.id,children:[(0,n.jsxs)(V,{open:d,onOpenChange:c,children:[(0,n.jsx)(P,{asChild:!0,children:(0,n.jsxs)(u.$,{variant:"outline",size:"sm",onKeyDown:y,children:[(0,n.jsx)(ea.A,{}),"Sort",x.length>0&&(0,n.jsx)(H.E,{variant:"default",className:"h-[18.24px] rounded-[3.2px] px-[5.12px] font-mono text-[10.4px] font-normal",children:x.length})]})}),(0,n.jsxs)(E,{"aria-labelledby":r,"aria-describedby":i,className:"flex w-full max-w-[var(--radix-popover-content-available-width)] origin-[var(--radix-popover-content-transform-origin)] flex-col gap-3.5 p-4 sm:min-w-[380px]",...a,children:[(0,n.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,n.jsx)("h4",{id:r,className:"leading-none font-medium",children:x.length>0?"Sort by":"No sorting applied"}),(0,n.jsx)("p",{id:i,className:(0,o.cn)("text-muted-foreground text-sm",x.length>0&&"sr-only"),children:x.length>0?"Modify sorting to organize your rows.":"Add sorting to organize your rows."})]}),x.length>0&&(0,n.jsx)(eC,{asChild:!0,children:(0,n.jsx)("div",{role:"list",className:"flex max-h-[300px] flex-col gap-2 overflow-y-auto p-1",children:x.map(e=>(0,n.jsx)(eD,{sort:e,sortItemId:"".concat(l,"-sort-").concat(e.id),columns:h,columnLabels:f,onSortUpdate:b,onSortRemove:v},e.id))})}),(0,n.jsxs)("div",{className:"flex w-full items-center gap-2",children:[(0,n.jsx)(u.$,{size:"sm",className:"rounded",ref:m,onClick:p,disabled:0===h.length,children:"Add sort"}),x.length>0&&(0,n.jsx)(u.$,{variant:"outline",size:"sm",className:"rounded",onClick:j,children:"Reset sorting"})]})]})]}),(0,n.jsx)(e_,{children:(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsx)("div",{className:"bg-primary/10 h-8 w-[180px] rounded-sm"}),(0,n.jsx)("div",{className:"bg-primary/10 h-8 w-24 rounded-sm"}),(0,n.jsx)("div",{className:"bg-primary/10 size-8 shrink-0 rounded-sm"}),(0,n.jsx)("div",{className:"bg-primary/10 size-8 shrink-0 rounded-sm"})]})})]})}function eD(e){let{sort:t,sortItemId:a,columnLabels:l,onSortUpdate:r,onSortRemove:i}=e,o="".concat(a,"-field-listbox"),d="".concat(a,"-field-trigger"),c="".concat(a,"-direction-listbox"),[m,x]=s.useState(!1),[f,h]=s.useState(!1),p=s.useCallback(e=>{!(e.target instanceof HTMLInputElement||e.target instanceof HTMLTextAreaElement)&&(m||f||eM.includes(e.key.toLowerCase())&&(e.preventDefault(),i(t.id)))},[t.id,m,f,i]);return(0,n.jsx)(ek,{value:t.id,asChild:!0,children:(0,n.jsxs)("div",{role:"listitem",id:a,tabIndex:-1,className:"flex items-center gap-2",onKeyDown:p,children:[(0,n.jsx)(V,{open:m,onOpenChange:x,children:(0,n.jsx)(P,{asChild:!0,children:(0,n.jsxs)(u.$,{id:d,role:"combobox","aria-controls":o,variant:"outline",size:"sm",className:"w-44 justify-between rounded font-normal",children:[(0,n.jsx)("span",{className:"truncate",children:l.get(t.id)}),(0,n.jsx)(v.TBE,{className:"opacity-50"})]})})}),(0,n.jsxs)(b.l6,{open:f,onOpenChange:h,value:t.desc?"desc":"asc",onValueChange:e=>r(t.id,{desc:"desc"===e}),children:[(0,n.jsx)(b.bq,{"aria-controls":c,className:"h-8 w-24 rounded [&[data-size]]:h-8",children:(0,n.jsx)(b.yv,{})}),(0,n.jsx)(b.gC,{id:c,className:"min-w-[var(--radix-select-trigger-width)] origin-[var(--radix-select-content-transform-origin)]",children:g.sortOrders.map(e=>(0,n.jsx)(b.eb,{value:e.value,children:e.label},e.value))})]}),(0,n.jsx)(u.$,{"aria-controls":a,variant:"outline",size:"icon",className:"size-8 shrink-0 rounded",onClick:()=>i(t.id),children:(0,n.jsx)(en.A,{})}),(0,n.jsx)(ez,{asChild:!0,children:(0,n.jsx)(u.$,{variant:"outline",size:"icon",className:"size-8 shrink-0 rounded",children:(0,n.jsx)(v.YtH,{})})})]})})}var eT=a(6102),eI=a(4631),eV=a(5084),eP=a(8192);function eE(e){var t;let{table:a,visible:l,container:r,children:i,className:d,...c}=e,[u,m]=s.useState(!1);s.useLayoutEffect(()=>{m(!0)},[]),s.useEffect(()=>{function e(e){"Escape"===e.key&&a.toggleAllRowsSelected(!1)}return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[a]);let x=null!=r?r:u?null==(t=globalThis.document)?void 0:t.body:null;if(!x)return null;let g=null!=l?l:a.getFilteredSelectedRowModel().rows.length>0;return em.createPortal((0,n.jsx)(eV.N,{children:g&&(0,n.jsx)(eP.P.div,{role:"toolbar","aria-orientation":"horizontal",initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},transition:{duration:.2,ease:"easeInOut"},className:(0,o.cn)("bg-background text-foreground fixed inset-x-0 bottom-6 z-50 mx-auto flex w-fit flex-wrap items-center justify-center gap-2 rounded-md border p-2 shadow-sm",d),...c,children:i})}),x)}function eO(e){let{size:t="sm",tooltip:a,isPending:s,disabled:l,className:r,children:i,...d}=e,c=(0,n.jsx)(u.$,{variant:"secondary",size:t,className:(0,o.cn)("border-secondary bg-secondary/50 hover:bg-secondary/70 gap-1.5 border [&>svg]:size-3.5","icon"===t?"size-7":"h-7",r),disabled:l||s,...d,children:s?(0,n.jsx)(eI.A,{className:"animate-spin"}):i});return a?(0,n.jsxs)(eT.m_,{children:[(0,n.jsx)(eT.k$,{asChild:!0,children:c}),(0,n.jsx)(eT.ZI,{sideOffset:6,className:"bg-accent text-foreground border font-semibold dark:bg-zinc-900 [&>span]:hidden",children:(0,n.jsx)("p",{children:a})})]}):c}function eB(e){let{table:t}=e,a=s.useCallback(()=>{t.toggleAllRowsSelected(!1)},[t]);return(0,n.jsxs)("div",{className:"flex h-7 items-center rounded-md border pr-1 pl-2.5",children:[(0,n.jsxs)("span",{className:"text-xs whitespace-nowrap",children:[t.getFilteredSelectedRowModel().rows.length," selected"]}),(0,n.jsx)(O.Separator,{orientation:"vertical",className:"mr-1 ml-2 data-[orientation=vertical]:h-4"}),(0,n.jsxs)(eT.m_,{children:[(0,n.jsx)(eT.k$,{asChild:!0,children:(0,n.jsx)(u.$,{variant:"ghost",size:"icon",className:"size-5",onClick:a,children:(0,n.jsx)(v.MKb,{className:"size-3.5"})})}),(0,n.jsxs)(eT.ZI,{sideOffset:10,className:"bg-accent text-foreground flex items-center gap-2 border px-2 py-1 font-semibold dark:bg-zinc-900 [&>span]:hidden",children:[(0,n.jsx)("p",{children:"Clear selection"}),(0,n.jsx)("kbd",{className:"bg-background text-foreground rounded border px-1.5 py-px font-mono text-[0.7rem] font-normal shadow-xs select-none",children:(0,n.jsx)("abbr",{title:"Escape",className:"no-underline",children:"Esc"})})]})]})]})}var eL=a(1032),eK=a(9033),eZ=a(6981),e$=a(5196);function eH(e){let{className:t,...a}=e;return(0,n.jsx)(eZ.bL,{"data-slot":"checkbox",className:(0,o.cn)("peer border-input dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",t),...a,children:(0,n.jsx)(eZ.C1,{"data-slot":"checkbox-indicator",className:"flex items-center justify-center text-current transition-none",children:(0,n.jsx)(e$.A,{className:"size-3.5"})})})}var eW=a(8749),eq=a(8698);function eJ(e){let{...t}=e;return(0,n.jsx)(eq.bL,{"data-slot":"dropdown-menu",...t})}function eU(e){let{...t}=e;return(0,n.jsx)(eq.l9,{"data-slot":"dropdown-menu-trigger",...t})}function eG(e){let{className:t,sideOffset:a=4,...s}=e;return(0,n.jsx)(eq.ZL,{children:(0,n.jsx)(eq.UC,{"data-slot":"dropdown-menu-content",sideOffset:a,className:(0,o.cn)("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",t),...s})})}function eY(e){let{className:t,inset:a,variant:s="default",...l}=e;return(0,n.jsx)(eq.q7,{"data-slot":"dropdown-menu-item","data-inset":a,"data-variant":s,className:(0,o.cn)("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...l})}function eX(e){let{className:t,children:a,checked:s,...l}=e;return(0,n.jsxs)(eq.H_,{"data-slot":"dropdown-menu-checkbox-item",className:(0,o.cn)("focus:bg-accent focus:text-accent-foreground relative flex cursor-default items-center gap-2 rounded-sm py-1.5 pr-2 pl-8 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),checked:s,...l,children:[(0,n.jsx)("span",{className:"pointer-events-none absolute left-2 flex size-3.5 items-center justify-center",children:(0,n.jsx)(eq.VF,{children:(0,n.jsx)(e$.A,{className:"size-4"})})}),a]})}function eQ(e){let{column:t,title:a,className:s,...l}=e;return t.getCanSort()||t.getCanHide()?(0,n.jsxs)(eJ,{children:[(0,n.jsxs)(eU,{className:(0,o.cn)("hover:bg-accent focus:ring-ring data-[state=open]:bg-accent [&_svg]:text-muted-foreground -ml-1.5 flex h-8 items-center gap-1.5 rounded-md px-2 py-1.5 focus:ring-1 focus:outline-none [&_svg]:size-4 [&_svg]:shrink-0",s),...l,children:[a,t.getCanSort()&&("desc"===t.getIsSorted()?(0,n.jsx)(v.D3D,{}):"asc"===t.getIsSorted()?(0,n.jsx)(v.Mtm,{}):(0,n.jsx)(v.TBE,{}))]}),(0,n.jsxs)(eG,{align:"start",className:"w-28",children:[t.getCanSort()&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(eX,{className:"[&_svg]:text-muted-foreground relative pr-8 pl-2 [&>span:first-child]:right-2 [&>span:first-child]:left-auto",checked:"asc"===t.getIsSorted(),onClick:()=>t.toggleSorting(!1),children:[(0,n.jsx)(v.Mtm,{}),"Asc"]}),(0,n.jsxs)(eX,{className:"[&_svg]:text-muted-foreground relative pr-8 pl-2 [&>span:first-child]:right-2 [&>span:first-child]:left-auto",checked:"desc"===t.getIsSorted(),onClick:()=>t.toggleSorting(!0),children:[(0,n.jsx)(v.D3D,{}),"Desc"]}),t.getIsSorted()&&(0,n.jsxs)(eY,{className:"[&_svg]:text-muted-foreground pl-2",onClick:()=>t.clearSorting(),children:[(0,n.jsx)(v.MKb,{}),"Reset"]})]}),t.getCanHide()&&(0,n.jsxs)(eX,{className:"[&_svg]:text-muted-foreground relative pr-8 pl-2 [&>span:first-child]:right-2 [&>span:first-child]:left-auto",checked:!t.getIsVisible(),onClick:()=>t.toggleVisibility(!1),children:[(0,n.jsx)(eW.A,{}),"Hide"]})]})]}):(0,n.jsx)("div",{className:(0,o.cn)(s),children:a})}var e0=a(8395);let e1=e=>(0,n.jsx)("div",{className:"flex h-8 items-center justify-center gap-1",children:e}),e2=[{id:"txid",accessorKey:"txid",title:"Txid",formatter:e=>e.slice(0,4)+"..."+e.slice(-4),meta:{label:"txid",placeholder:"Search by txid",variant:"text",icon:e0.A},enableSorting:!1,enableColumnFilter:!0},{id:"feeRate",accessorKey:"feeRate",title:"FeeRate (sat/vB)",formatter:e=>e.toPrecision(4),meta:{label:"Fee Rate",variant:"range",range:[0,1e3]},enableSorting:!0,enableColumnFilter:!0},{id:"vsize",accessorKey:"vsize",title:"Size (vB)",formatter:e=>e,meta:{label:"vsize",variant:"range",range:[0,1e6]},enableSorting:!0,enableColumnFilter:!0},{id:"fees.base",accessorKey:"fees.base",title:"Base Fee (sat)",formatter:e=>e.toLocaleString(),meta:{label:"Base Fee",variant:"range",range:[0,1e6]},enableSorting:!0,enableColumnFilter:!0},{id:"depends",accessorKey:"depends",title:"Depends On",formatter:e=>e.length,meta:{label:"Depends On",variant:"number"},enableSorting:!0,enableColumnFilter:!0,filterFn:(e,t,a)=>e.getValue(t).length===a},{id:"descendant_count",accessorKey:"descendant_count",title:"Descendant Count",formatter:e=>e,enableSorting:!0,enableColumnFilter:!0},{id:"descendant_size",accessorKey:"descendant_size",title:"Descendant Size",formatter:e=>e,enableSorting:!0,enableColumnFilter:!0},{id:"ancestor_count",accessorKey:"ancestor_count",title:"Ancestor Count",formatter:e=>e,enableSorting:!0,enableColumnFilter:!0},{id:"ancestor_size",accessorKey:"ancestor_size",title:"Ancestor Size",formatter:e=>e,enableSorting:!0,enableColumnFilter:!0},{id:"time",accessorKey:"time",title:"Time",formatter:e=>new Date(1e3*e).toLocaleString(),enableSorting:!0,enableColumnFilter:!0},{id:"height",accessorKey:"height",title:"Height",formatter:e=>e,enableSorting:!0,enableColumnFilter:!0},{id:"bip125_replaceable",accessorKey:"bip125_replaceable",title:"BIP125 Replaceable",formatter:e=>(0,n.jsx)(eH,{checked:e,disabled:!0}),meta:{label:"BIP125 Replaceable",variant:"boolean"},enableSorting:!0,enableColumnFilter:!0}],e5=[{id:"select",header:e=>{let{table:t}=e;return(0,n.jsx)(eH,{checked:t.getIsAllPageRowsSelected()||t.getIsSomePageRowsSelected()&&"indeterminate",onCheckedChange:e=>t.toggleAllPageRowsSelected(!!e),"aria-label":"Select all"})},cell:e=>{let{row:t}=e;return(0,n.jsx)(eH,{checked:t.getIsSelected(),onCheckedChange:e=>t.toggleSelected(!!e),"aria-label":"Select row"})},meta:{label:"Checkbox",placeholder:"select transaction",variant:"text",icon:e0.A},size:32,enableHiding:!1},...e2.map(e=>({id:e.id,accessorKey:e.accessorKey,header:t=>{let{column:a}=t;return(0,n.jsx)(eQ,{column:a,title:e.title,className:"w-full justify-center"})},cell:t=>{let{cell:a}=t;return e1(e.formatter(a.getValue()))},...e.meta&&{meta:e.meta},enableSorting:e.enableSorting,enableColumnFilter:e.enableColumnFilter,...e.filterFn&&{filterFn:e.filterFn}}))],e4=[{id:"select",cell:e=>{let{row:t}=e;return(0,n.jsx)(eH,{checked:t.getIsSelected(),onCheckedChange:e=>t.toggleSelected(!!e),"aria-label":"Select row"})},meta:{label:"Checkbox",placeholder:"deselect transaction",variant:"text",icon:e0.A},size:32,enableHiding:!1},...e5.slice(1,5)];var e8=a(4382),e3=a(4944);function e6(e){let{isOpen:t,selectedData:a,handleModal:l}=e,r=s.useMemo(()=>{if(0===a.length)return{totalTransactions:0,totalVirtualSize:0,totalWeight:0,totalFees:0,averageFeeRate:0,maxAncestorCount:0,maxDescendantCount:0};let e=a.length,t=a.reduce((e,t)=>e+t.vsize,0),n=a.reduce((e,t)=>e+(t.weight||4*t.vsize),0),s=a.reduce((e,t)=>e+t.fees.base,0);return{totalTransactions:e,totalVirtualSize:t,totalWeight:n,totalFees:s,averageFeeRate:t>0?s/t:0,maxAncestorCount:Math.max(...a.map(e=>e.ancestor_count)),maxDescendantCount:Math.max(...a.map(e=>e.descendant_count))}},[a]),i=r.totalWeight/4e6*100;return(0,n.jsx)(e8.a,{title:"Transaction Summary",description:"Aggregate statistics for selected transactions",isOpen:t,onClose:()=>l(!1),size:"4xl",children:(0,n.jsxs)("div",{className:"space-y-6",children:[(0,n.jsxs)("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-3",children:[(0,n.jsxs)(c.Zp,{children:[(0,n.jsx)(c.aR,{className:"pb-2",children:(0,n.jsx)(c.ZB,{className:"text-sm font-medium",children:"Total Transactions"})}),(0,n.jsx)(c.Wu,{children:(0,n.jsxs)("div",{className:"text-2xl font-bold",children:[r.totalTransactions,(0,n.jsx)("span",{className:"text-muted-foreground ml-1 text-sm font-normal",children:"txs"})]})})]}),(0,n.jsxs)(c.Zp,{children:[(0,n.jsx)(c.aR,{className:"pb-2",children:(0,n.jsx)(c.ZB,{className:"text-sm font-medium",children:"Total Virtual Size"})}),(0,n.jsx)(c.Wu,{children:(0,n.jsxs)("div",{className:"text-2xl font-bold",children:[r.totalVirtualSize,(0,n.jsx)("span",{className:"text-muted-foreground ml-1 text-sm font-normal",children:"vbytes"})]})})]}),(0,n.jsxs)(c.Zp,{children:[(0,n.jsxs)(c.aR,{className:"pb-2",children:[(0,n.jsx)(c.ZB,{className:"text-sm font-medium",children:"Total Weight"}),(0,n.jsxs)(c.BT,{children:[i.toFixed(2),"% of max block weight"]})]}),(0,n.jsx)(c.Wu,{children:(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsxs)("div",{className:"text-2xl font-bold",children:[r.totalWeight,(0,n.jsxs)("span",{className:"text-muted-foreground ml-1 text-sm font-normal",children:["/ ",4e6]})]}),(0,n.jsx)(e3.k,{value:Math.min(i,100),className:"h-2"})]})})]}),(0,n.jsxs)(c.Zp,{children:[(0,n.jsx)(c.aR,{className:"pb-2",children:(0,n.jsx)(c.ZB,{className:"text-sm font-medium",children:"Total Fees"})}),(0,n.jsx)(c.Wu,{children:(0,n.jsxs)("div",{className:"space-y-1",children:[(0,n.jsxs)("div",{className:"text-2xl font-bold",children:[(r.totalFees/1e8).toFixed(8),(0,n.jsx)("span",{className:"text-muted-foreground ml-1 text-sm font-normal",children:"BTC"})]}),(0,n.jsxs)("div",{className:"text-muted-foreground text-sm",children:[r.totalFees," sats"]})]})})]}),(0,n.jsxs)(c.Zp,{children:[(0,n.jsx)(c.aR,{className:"pb-2",children:(0,n.jsx)(c.ZB,{className:"text-sm font-medium",children:"Average Fee Rate"})}),(0,n.jsx)(c.Wu,{children:(0,n.jsxs)("div",{className:"text-2xl font-bold",children:[r.averageFeeRate.toFixed(1),(0,n.jsx)("span",{className:"text-muted-foreground ml-1 text-sm font-normal",children:"sat/vB"})]})})]}),(0,n.jsxs)(c.Zp,{children:[(0,n.jsx)(c.aR,{className:"pb-2",children:(0,n.jsx)(c.ZB,{className:"text-sm font-medium",children:"Chain Metrics"})}),(0,n.jsx)(c.Wu,{children:(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsx)("span",{className:"text-muted-foreground text-sm",children:"Max Ancestors:"}),(0,n.jsx)(H.E,{variant:"secondary",children:r.maxAncestorCount})]}),(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsx)("span",{className:"text-muted-foreground text-sm",children:"Max Descendants:"}),(0,n.jsx)(H.E,{variant:"secondary",children:r.maxDescendantCount})]})]})})]})]}),r.totalTransactions>0&&(0,n.jsxs)(c.Zp,{children:[(0,n.jsx)(c.aR,{children:(0,n.jsx)(c.ZB,{className:"text-lg",children:"Additional Details"})}),(0,n.jsx)(c.Wu,{children:(0,n.jsxs)("div",{className:"grid grid-cols-1 gap-4 text-sm md:grid-cols-2",children:[(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsxs)("div",{className:"flex justify-between",children:[(0,n.jsx)("span",{className:"text-muted-foreground",children:"Average tx size:"}),(0,n.jsxs)("span",{children:[(r.totalVirtualSize/r.totalTransactions).toFixed(0)," ","vbytes"]})]}),(0,n.jsxs)("div",{className:"flex justify-between",children:[(0,n.jsx)("span",{className:"text-muted-foreground",children:"Average tx weight:"}),(0,n.jsxs)("span",{children:[(r.totalWeight/r.totalTransactions).toFixed(0)," ","weight units"]})]})]}),(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsxs)("div",{className:"flex justify-between",children:[(0,n.jsx)("span",{className:"text-muted-foreground",children:"Average fee per tx:"}),(0,n.jsxs)("span",{children:[(r.totalFees/r.totalTransactions).toFixed(0)," ","sats"]})]}),(0,n.jsxs)("div",{className:"flex justify-between",children:[(0,n.jsx)("span",{className:"text-muted-foreground",children:"Block space usage:"}),(0,n.jsxs)("span",{children:[i.toFixed(4),"%"]})]})]})]})})]})]})})}function e9(e){let{isOpen:t,selectedData:a,parentTable:l,handleModal:r}=e,[i,o]=s.useState(0),[d,c]=s.useState(10),[x,g]=s.useState([]),[f,h]=s.useState(!1),p=s.useMemo(()=>e4.map(e=>"select"===e.id?{...e,cell:e=>{var t;let{row:a}=e;return(0,n.jsx)(eH,{checked:null==(t=l.getRow(a.original.txid))?void 0:t.getIsSelected(),onCheckedChange:e=>{var t;return null==(t=l.getRow(a.original.txid))?void 0:t.toggleSelected(!!e)},"aria-label":"Select row"})}}:e),[l]),b=(0,m.N4)({data:a,columns:p,state:{pagination:{pageIndex:i,pageSize:d},sorting:x},onPaginationChange:e=>{if("function"==typeof e){let t=e({pageIndex:i,pageSize:d});o(t.pageIndex),c(t.pageSize)}else o(e.pageIndex),c(e.pageSize)},onSortingChange:g,getCoreRowModel:(0,eL.HT)(),getPaginationRowModel:(0,eL.kW)(),getSortedRowModel:(0,eL.h5)()});return(0,n.jsxs)(e8.a,{title:"Selected Transactions",description:"Review the selected transactions",isOpen:t,onClose:()=>r(!1),size:"6xl",children:[(0,n.jsx)("div",{className:"max-h-[75vh] overflow-auto",children:(0,n.jsx)(y,{table:b,children:(0,n.jsxs)("div",{className:"flex items-center gap-2 px-4 py-2",children:[(0,n.jsx)(ee,{table:b}),(0,n.jsx)(eR,{table:b}),a.length>0&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(u.$,{variant:"outline",size:"sm",onClick:()=>h(!0),children:"View Summary"}),(0,n.jsx)(u.$,{variant:"destructive",size:"sm",onClick:()=>{l.toggleAllRowsSelected(!1),setTimeout(()=>r(!1),800)},children:"Deselect All"})]})]})})}),(0,n.jsx)(e6,{isOpen:f,selectedData:a,handleModal:h})]})}var e7=a(2657),te=a(2713),tt=a(4357),ta=a(1788);function tn(e){let{data:t,isFetching:a,onToggle:l}=e,[r,x]=s.useState(!1),[g,f]=s.useState(!1),[h,p]=s.useState(!1),[b,v]=s.useState(!1),{table:j}=function(e){var t,a,n,l;let{columns:r,initialState:i,history:o="replace",debounceMs:c=300,throttleMs:u=50,clearOnDefault:x=!0,enableAdvancedFilter:g=!1,scroll:f=!1,shallow:h=!0,startTransition:p,...b}=e,v=s.useMemo(()=>({history:o,scroll:f,shallow:h,throttleMs:u,debounceMs:c,clearOnDefault:x,startTransition:p}),[o,f,h,u,c,x,p]),[j,y]=s.useState(null!=(a=null==i?void 0:i.rowSelection)?a:{}),[w,N]=s.useState(null!=(n=null==i?void 0:i.columnVisibility)?n:{}),[C,S]=(0,d.ZA)("page",d.GJ.withOptions({...v,clearOnDefault:!0}).withDefault(1)),k=null!=(l=null==i||null==(t=i.pagination)?void 0:t.pageSize)?l:10,[z,F]=(0,d.ZA)("perPage",d.GJ.withOptions({...v,clearOnDefault:!0}).withDefault(k)),A=s.useMemo(()=>({pageIndex:Math.max(0,C-1),pageSize:Math.max(1,z)}),[C,z]),_=s.useCallback(e=>{if("function"==typeof e){let t=e(A);S(Math.max(1,t.pageIndex+1)),F(Math.max(1,t.pageSize))}else S(Math.max(1,e.pageIndex+1)),F(Math.max(1,e.pageSize))},[A,S,F]),M=s.useMemo(()=>new Set(r.map(e=>e.id).filter(Boolean)),[r]),[R,D]=(0,d.ZA)("sort",d.tU.withOptions({...v,clearOnDefault:!0}).withDefault("")),T=s.useMemo(()=>{var e,t,a,n;if(!R||""===R.trim())return null!=(e=null==i?void 0:i.sorting)?e:[];try{let e=decodeURIComponent(R),n=JSON.parse(e);if(!Array.isArray(n))return null!=(t=null==i?void 0:i.sorting)?t:[];let s=n.filter(e=>e&&"object"==typeof e&&"string"==typeof e.id&&M.has(e.id)&&"boolean"==typeof e.desc);return s.length>0?s:null!=(a=null==i?void 0:i.sorting)?a:[]}catch(e){return null!=(n=null==i?void 0:i.sorting)?n:[]}},[R,M,null==i?void 0:i.sorting]),I=s.useCallback(e=>{if(!Array.isArray(e)||0===e.length)return void D("");let t=e.filter(e=>e&&"string"==typeof e.id&&M.has(e.id)&&"boolean"==typeof e.desc);0===t.length?D(""):D(encodeURIComponent(JSON.stringify(t)))},[D,M]),V=s.useCallback(e=>{"function"==typeof e?I(e(T)):I(e)},[T,I]),P=s.useMemo(()=>g?[]:r.filter(e=>e.enableColumnFilter),[r,g]),E=s.useMemo(()=>g?{}:P.reduce((e,t)=>{var a,n;let s=null!=(n=t.id)?n:"";return(null==(a=t.meta)?void 0:a.options)?e[s]=(0,d.IN)(d.tU,",").withOptions({...v,clearOnDefault:!0}):e[s]=d.tU.withOptions({...v,clearOnDefault:!0}),e},{}),[P,v,g]),[O,B]=(0,d.ab)(E),L=function(e,t){let a=(0,eK.c)(e),n=s.useRef(0);return s.useEffect(()=>()=>window.clearTimeout(n.current),[]),s.useCallback(function(){for(var e=arguments.length,s=Array(e),l=0;l<e;l++)s[l]=arguments[l];window.clearTimeout(n.current),n.current=window.setTimeout(()=>a(...s),t)},[a,t])}(e=>{1!==C&&S(1),B(e)},c),K=s.useMemo(()=>g?[]:Object.entries(O).reduce((e,t)=>{let[a,n]=t;if(null!=n){let t=Array.isArray(n)?n.filter(Boolean):"string"==typeof n&&/[^a-zA-Z0-9]/.test(n)?n.split(/[^a-zA-Z0-9]+/).filter(Boolean):[n].filter(Boolean);t.length>0&&e.push({id:a,value:t})}return e},[]),[O,g]),[Z,$]=s.useState(K),H=s.useCallback(e=>{g||$(t=>{let a="function"==typeof e?e(t):e,n=a.reduce((e,t)=>{if(P.find(e=>e.id===t.id)){let a=t.value;(Array.isArray(a)?a.length>0:a)?e[t.id]=a:e[t.id]=null}return e},{});for(let e of t)a.some(t=>t.id===e.id)||(n[e.id]=null);return L(n),a})},[L,P,g]);return{table:(0,m.N4)({...b,columns:r,initialState:i,state:{pagination:A,sorting:T,columnVisibility:w,rowSelection:j,columnFilters:Z},defaultColumn:{...b.defaultColumn,enableColumnFilter:!1},enableRowSelection:!0,onRowSelectionChange:y,onPaginationChange:_,onSortingChange:V,onColumnFiltersChange:H,onColumnVisibilityChange:N,getCoreRowModel:(0,eL.HT)(),getFilteredRowModel:(0,eL.hM)(),getPaginationRowModel:(0,eL.kW)(),getSortedRowModel:(0,eL.h5)(),getFacetedRowModel:(0,eL.kQ)(),getFacetedUniqueValues:(0,eL.oS)(),getFacetedMinMaxValues:(0,eL.tX)(),manualPagination:!1,manualSorting:!1,manualFiltering:!1}),shallow:h,debounceMs:c,throttleMs:u}}({data:t,columns:e5,getRowId:e=>e.txid}),w=j.getSelectedRowModel().rows,N=s.useMemo(()=>w.map(e=>e.original),[w]),C=e=>{e?(x(!0),a&&l()):(x(!1),a||l())},S=async()=>{p(!0);try{await (0,o.vD)(N)}catch(e){i.oR.error("Export failed: There was an error exporting the selected transactions: ")}finally{p(!1)}},k=async()=>{v(!0);try{await (0,o.qJ)(N)}catch(e){i.oR.error("Copy failed: There was an error copying the selected transaction IDs.")}finally{v(!1)}},z=(0,n.jsxs)(eE,{table:j,className:"rounded-xl p-4",children:[(0,n.jsx)(eB,{table:j}),(0,n.jsxs)(eO,{tooltip:"View selected transactions",onClick:()=>C(!0),children:[(0,n.jsx)(e7.A,{}),"View Selected"]}),(0,n.jsxs)(eO,{tooltip:"Show summary of selected transactions",onClick:()=>f(!0),children:[(0,n.jsx)(te.A,{}),"Summary"]}),(0,n.jsxs)(eO,{tooltip:"Copy transaction IDs to clipboard",onClick:k,isPending:b,children:[(0,n.jsx)(tt.A,{}),"Copy IDs"]}),(0,n.jsxs)(eO,{tooltip:"Export selected transactions to CSV",onClick:S,isPending:h,children:[(0,n.jsx)(ta.A,{}),"Export"]})]});return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(c.Zp,{children:(0,n.jsx)("div",{className:"px-4",children:(0,n.jsx)(y,{table:j,actionBar:z,children:(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsx)(ee,{table:j}),(0,n.jsx)(u.$,{variant:a?"destructive":"default",size:"sm",onClick:l,children:a?"Pause":"Resume"}),(0,n.jsx)(eR,{table:j})]})})})}),(0,n.jsx)(e6,{isOpen:g,selectedData:N,handleModal:f}),(0,n.jsx)(e9,{isOpen:r,selectedData:N,parentTable:j,handleModal:C})]})}function ts(){let{transactions:e,isFetching:t,toggle:a}=function(){let[e,t]=s.useState([]),[a,n]=s.useState([]),[d,c]=s.useState(!0),u=s.useRef(d),m=s.useRef(null);return s.useEffect(()=>{l.A.get("http://localhost:3001/api/mempool").then(e=>{t(e.data.map(e=>({...(0,o.FS)(e),feeRate:1e8*e.fees.base/e.vsize})))}).catch(()=>{})},[]),s.useEffect(()=>{u.current=d},[d]),s.useEffect(()=>{let e=new r.A("ws://localhost:3001/ws/bitcoin/stream");return m.current=e,e.onmessage=e=>{let a=JSON.parse(e.data);switch(a.event){case"A":let s={...(0,o.FS)(a.transaction),feeRate:1e8*a.transaction.fees.base/a.transaction.vsize};u.current?t(e=>[s,...e.filter(e=>e.txid!==s.txid)]):n(e=>[s,...e.filter(e=>e.txid!==s.txid)]);break;case"R":t(e=>e.filter(e=>e.txid!==a.txid)),n(e=>e.filter(e=>e.txid!==a.txid)),i.oR.success("Transaction Removed",{description:"".concat(a.txid.slice(0,12),"... was removed from mempool"),action:{label:"View TX",onClick:()=>window.open("https://mempool.space/tx/".concat(a.txid),"_blank")}});break;case"C":let l=a.block.block_hash.slice(0,8)+"...",r=a.block.txids.length-1;i.oR.success(" Block Mined",{description:"Block ".concat(l," confirmed ").concat(r," transactions"),action:{label:"View Block",onClick:()=>window.open("https://mempool.space/block/".concat(a.block.block_hash),"_blank")}});let d=new Set(a.block.txids);t(e=>e.filter(e=>!d.has(e.txid))),n(e=>e.filter(e=>!d.has(e.txid)));break;case"D":let c=a.block_hash.slice(0,8)+"...";i.oR.warning("\uD83D\uDD04 Chain Reorganization",{description:"Block ".concat(c," disconnected, ").concat(a.transactions.length," txs back to mempool"),action:{label:"View Block",onClick:()=>window.open("https://mempool.space/block/".concat(a.block_hash),"_blank")}});let m=a.transactions.map(e=>({...(0,o.FS)(e),feeRate:1e8*e.fees.base/e.vsize})),x=e=>{let t=new Set(e.map(e=>e.txid));return[...e,...m.filter(e=>!t.has(e.txid))]};u.current?t(x):n(x)}},()=>{e.close(),m.current=null}},[]),s.useEffect(()=>{d&&a.length>0&&(t(e=>{let t=new Set(e.map(e=>e.txid));return[...e,...a.filter(e=>!t.has(e.txid))]}),n([]))},[d,a]),{transactions:e,isFetching:d,toggle:()=>c(e=>!e)}}(),[c]=(0,d.ZA)("txid",d.tU.withDefault("")),u=s.useMemo(()=>e.filter(e=>!c||e.txid.toLowerCase().includes(c.toLowerCase())),[e,c]);return(0,n.jsx)("div",{className:"data-table-container",children:(0,n.jsx)(tn,{data:u,isFetching:t,onToggle:a})})}},5057:(e,t,a)=>{"use strict";a.d(t,{J:()=>r});var n=a(5155);a(2115);var s=a(968),l=a(9434);function r(e){let{className:t,...a}=e;return(0,n.jsx)(s.b,{"data-slot":"label",className:(0,l.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",t),...a})}},5127:(e,t,a)=>{"use strict";a.d(t,{Table:()=>l,TableBody:()=>i,TableCell:()=>c,TableHead:()=>d,TableHeader:()=>r,TableRow:()=>o});var n=a(5155);a(2115);var s=a(9434);function l(e){let{className:t,...a}=e;return(0,n.jsx)("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:(0,n.jsx)("table",{"data-slot":"table",className:(0,s.cn)("w-full caption-bottom text-sm",t),...a})})}function r(e){let{className:t,...a}=e;return(0,n.jsx)("thead",{"data-slot":"table-header",className:(0,s.cn)("[&_tr]:border-b",t),...a})}function i(e){let{className:t,...a}=e;return(0,n.jsx)("tbody",{"data-slot":"table-body",className:(0,s.cn)("[&_tr:last-child]:border-0",t),...a})}function o(e){let{className:t,...a}=e;return(0,n.jsx)("tr",{"data-slot":"table-row",className:(0,s.cn)("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",t),...a})}function d(e){let{className:t,...a}=e;return(0,n.jsx)("th",{"data-slot":"table-head",className:(0,s.cn)("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",t),...a})}function c(e){let{className:t,...a}=e;return(0,n.jsx)("td",{"data-slot":"table-cell",className:(0,s.cn)("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",t),...a})}},6550:(e,t,a)=>{Promise.resolve().then(a.bind(a,906))},9409:(e,t,a)=>{"use strict";a.d(t,{TR:()=>g,bq:()=>m,eb:()=>f,gC:()=>x,l6:()=>d,mi:()=>h,s3:()=>c,yv:()=>u});var n=a(5155);a(2115);var s=a(1992),l=a(6474),r=a(5196),i=a(7863),o=a(9434);function d(e){let{...t}=e;return(0,n.jsx)(s.bL,{"data-slot":"select",...t})}function c(e){let{...t}=e;return(0,n.jsx)(s.YJ,{"data-slot":"select-group",...t})}function u(e){let{...t}=e;return(0,n.jsx)(s.WT,{"data-slot":"select-value",...t})}function m(e){let{className:t,size:a="default",children:r,...i}=e;return(0,n.jsxs)(s.l9,{"data-slot":"select-trigger","data-size":a,className:(0,o.cn)("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...i,children:[r,(0,n.jsx)(s.In,{asChild:!0,children:(0,n.jsx)(l.A,{className:"size-4 opacity-50"})})]})}function x(e){let{className:t,children:a,position:l="popper",...r}=e;return(0,n.jsx)(s.ZL,{children:(0,n.jsxs)(s.UC,{"data-slot":"select-content",className:(0,o.cn)("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md","popper"===l&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:l,...r,children:[(0,n.jsx)(p,{}),(0,n.jsx)(s.LM,{className:(0,o.cn)("p-1","popper"===l&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:a}),(0,n.jsx)(b,{})]})})}function g(e){let{className:t,...a}=e;return(0,n.jsx)(s.JU,{"data-slot":"select-label",className:(0,o.cn)("text-muted-foreground px-2 py-1.5 text-xs",t),...a})}function f(e){let{className:t,children:a,...l}=e;return(0,n.jsxs)(s.q7,{"data-slot":"select-item",className:(0,o.cn)("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",t),...l,children:[(0,n.jsx)("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:(0,n.jsx)(s.VF,{children:(0,n.jsx)(r.A,{className:"size-4"})})}),(0,n.jsx)(s.p4,{children:a})]})}function h(e){let{className:t,...a}=e;return(0,n.jsx)(s.wv,{"data-slot":"select-separator",className:(0,o.cn)("bg-border pointer-events-none -mx-1 my-1 h-px",t),...a})}function p(e){let{className:t,...a}=e;return(0,n.jsx)(s.PP,{"data-slot":"select-scroll-up-button",className:(0,o.cn)("flex cursor-default items-center justify-center py-1",t),...a,children:(0,n.jsx)(i.A,{className:"size-4"})})}function b(e){let{className:t,...a}=e;return(0,n.jsx)(s.wn,{"data-slot":"select-scroll-down-button",className:(0,o.cn)("flex cursor-default items-center justify-center py-1",t),...a,children:(0,n.jsx)(l.A,{className:"size-4"})})}}},e=>{var t=t=>e(e.s=t);e.O(0,[105,277,645,135,227,431,175,688,441,684,358],()=>t(6550)),_N_E=e.O()}]);